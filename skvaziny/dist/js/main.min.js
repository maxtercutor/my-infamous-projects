function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var quizContainer;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(C){var o,e=navigator.userAgent,w=/iphone/i.test(e),a=/chrome/i.test(e),z=/android/i.test(e);C.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},C.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,v){var n,g,b,k,q,x,S;if(!t&&0<this.length){var e=C(this[0]).data(C.mask.dataName);return e?e():void 0}return v=C.extend({autoclear:C.mask.autoclear,placeholder:C.mask.placeholder,completed:null},v),n=C.mask.definitions,g=[],b=x=t.length,k=null,C.each(t.split(""),function(e,t){"?"==t?(x--,b=e):n[t]?(g.push(new RegExp(n[t])),null===k&&(k=g.length-1),e<b&&(q=g.length-1)):g.push(null)}),this.trigger("unmask").each(function(){function r(){if(v.completed){for(var e=k;e<=q;e++)if(g[e]&&f[e]===c(e))return;v.completed.call(p)}}function c(e){return v.placeholder.charAt(e<v.placeholder.length?e:0)}function l(e){for(;++e<x&&!g[e];);return e}function s(e,t){var n,o;if(!(e<0)){for(n=e,o=l(t);n<x;n++)if(g[n]){if(!(o<x&&g[n].test(f[o])))break;f[n]=f[o],f[o]=c(o),o=l(o)}m(),p.caret(Math.max(k,e))}}function i(){d(),p.val()!=y&&p.change()}function u(e,t){var n;for(n=e;n<t&&n<x;n++)g[n]&&(f[n]=c(n))}function m(){p.val(f.join(""))}function d(e){var t,n,o,a=p.val(),i=-1;for(o=t=0;t<x;t++)if(g[t]){for(f[t]=c(t);o++<a.length;)if(n=a.charAt(o-1),g[t].test(n)){f[t]=n,i=t;break}if(o>a.length){u(t+1,x);break}}else f[t]===a.charAt(o)&&o++,t<b&&(i=t);return e?m():i+1<b?v.autoclear||f.join("")===h?(p.val()&&p.val(""),u(0,x)):m():(m(),p.val(p.val().substring(0,i+1))),b?t:k}var p=C(this),f=C.map(t.split(""),function(e,t){return"?"!=e?n[e]?c(t):e:void 0}),h=f.join(""),y=p.val();p.data(C.mask.dataName,function(){return C.map(f,function(e,t){return g[t]&&e!=c(t)?e:null}).join("")}),p.one("unmask",function(){p.off(".mask").removeData(C.mask.dataName)}).on("focus.mask",function(){var e;p.prop("readonly")||(clearTimeout(o),y=p.val(),e=d(),o=setTimeout(function(){p.get(0)===document.activeElement&&(m(),e==t.replace("?","").length?p.caret(0,e):p.caret(e))},10))}).on("blur.mask",i).on("keydown.mask",function(e){if(!p.prop("readonly")){var t,n,o,a=e.which||e.keyCode;S=p.val(),8===a||46===a||w&&127===a?(n=(t=p.caret()).begin,(o=t.end)-n==0&&(n=46!==a?function(e){for(;0<=--e&&!g[e];);return e}(n):o=l(n-1),o=46===a?l(o):o),u(n,o),s(n,o-1),e.preventDefault()):13===a?i.call(this,e):27===a&&(p.val(y),p.caret(0,d()),e.preventDefault())}}).on("keypress.mask",function(e){if(!p.prop("readonly")){var t,n,o,a=e.which||e.keyCode,i=p.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||a<32)&&a&&13!==a){if(i.end-i.begin!=0&&(u(i.begin,i.end),s(i.begin,i.end-1)),(t=l(i.begin-1))<x&&(n=String.fromCharCode(a),g[t].test(n))){if(function(e){var t,n,o,a;for(n=c(t=e);t<x;t++)if(g[t]){if(o=l(t),a=f[t],f[t]=n,!(o<x&&g[o].test(a)))break;n=a}}(t),f[t]=n,m(),o=l(t),z){setTimeout(function(){C.proxy(C.fn.caret,p,o)()},0)}else p.caret(o);i.begin<=q&&r()}e.preventDefault()}}}).on("input.mask paste.mask",function(){p.prop("readonly")||setTimeout(function(){var e=d(!0);p.caret(e),r()},0)}),a&&z&&p.off("input.mask").on("input.mask",function(){var e=p.val(),t=p.caret();if(S&&S.length&&S.length>e.length){for(d(!0);0<t.begin&&!g[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<k&&!g[t.begin];)t.begin++;p.caret(t.begin,t.begin)}else{for(d(!0);t.begin<x&&!g[t.begin];)t.begin++;p.caret(t.begin,t.begin)}r()}),d()})}})});var ppOpened,main=document.querySelector("#main"),burger=document.querySelector(".burger"),privacyPolicyButton=document.querySelector("#privacy_policy_button"),Dialog=function(){function t(e){_classCallCheck(this,t),this.options=e}return _createClass(t,[{key:"createElem",value:function(){this.elem=document.createElement("div"),this.elem.className=this.options.className,this._createChildren(),document.body.append(this.elem)}},{key:"_createChildren",value:function(){var e=document.createElement("h2");e.className=this.options.headerClassName,e.textContent=this.options.headerText,this.elem.append(e);var t=document.createElement("div");t.className=this.options.contentClassName,t.innerHTML=this.options.contentText,this.elem.append(t)}},{key:"createDialog",value:function(){this.dialog=document.createElement("div"),this.dialog.className=this.options.dialogClassName,this.dialog.innerHTML=this.options.dialogContent,header.append(this.dialog)}}]),t}(),ppOptions={className:"pp-container",headerClassName:"h2--pp",headerText:"Политика конфиденциальности",contentClassName:"pp-content",contentText:"<p>Данное соглашение об обработке персональных данных разработано в соответствии с законодательством Российской Федерации.</p><p>Все лица, заполнившие сведения, составляющие персональные данные на данном сайте, а также разместившие иную информацию обозначенными действиями подтверждают свое согласие на обработку персональных данных и их передачу оператору обработки персональных данных. Под персональными данными Гражданина понимается нижеуказанная информация: общая информация (ФИО и адрес электронной почты, телефон, город проживания, дата рождения, личная информация, фото и видео с участием Гражданина). Гражданин, принимая настоящее Соглашение, выражает свою заинтересованность и полное согласие, что обработка персональных данных может включать в себя следующие действия: сбор, систематизацию, накопление, хранение, уточнение (обновление, изменение), использование, уничтожение.</p><p>Гражданин гарантирует: информация, им предоставленная, является полной, точной и достоверной; при предоставлении информации не нарушается действующее законодательство Российской Федерации, законные права и интересы третьих лиц; вся предоставленная информация заполнена Гражданином в отношении себя лично.</p>"},createPrivacyPolicy=function(){new Dialog(ppOptions).createElem(),setTimeout(function(){var e=document.querySelector(".pp-container");480<window.innerWidth?e.style.top=window.pageYOffset+window.innerHeight/2-e.offsetHeight/2+"px":e.style.top="15vw"})},removePrivacyPolicy=function(){document.querySelector(".pp-container").remove()};privacyPolicyButton.onclick=function(){ppOpened||quizContainer?(removePrivacyPolicy(),header.after(main),burger.style.zIndex="1"):(main.remove(),createPrivacyPolicy(),burger.style.zIndex="-1"),ppOpened=!ppOpened};var menuOpened,menuOptions={dialogClassName:"mobile-menu",dialogContent:'<nav><ul class="menu menu--mobile"><li><a href="https://svotok.ru">О нас</a></li><li><a href="https://svotok.ru/otoplenie">Монтаж отопления</a></li><li><a href="https://svotok.ru/skvazhiny">Бурение скважин</a></li><li><a href="https://svotok.ru/vodopodgotovka">Водоподготовка</a></li><li><a href="https://svotok.ru/septiki">Монтаж септиков</a></li><li><a href="https://svotok.ru/prajs">Прайс лист</a></li><li><a href="https://svotok.ru/portfolio">Портфолио</a></li><li><a href="https://svotok.ru/otzyvy">Отзывы</a></li></ul></nav><div class="section business-info--mobile"><div class="business-info-text--mobile"><a href="tel:+7-499-322-49-38">+7 499 322 49 38</a></div><div class="business-info-text--mobile"><a href="mailto:mail@svotok.ru">mail@svotok.ru</a></div><div class="business-info-text--mobile">Ежедневно c 9:00 до 21:00</div></div>'},createMobileMenu=function(){new Dialog(menuOptions).createDialog(),setTimeout(function(){document.querySelector(".mobile-menu").style.marginTop="4vw"})},removeMobileMenu=function(){document.querySelector(".mobile-menu").remove()};burger.onclick=function(){menuOpened?(removeMobileMenu(),header.after(main),privacyPolicyButton.style.zIndex="1"):(main.remove(),createMobileMenu(),privacyPolicyButton.style.zIndex="-1"),menuOpened=!menuOpened};var successOptions={dialogClassName:"success-message",dialogContent:"<h2>Ваша заявка успешно отправлена</h2>"},showSuccessMessage=function(){new Dialog(successOptions).createDialog(),setTimeout(function(){document.querySelector(".success-message")})},removeSuccessMessage=function(){document.querySelector(".success-message").remove()},errorOptions={dialogClassName:"error-message",dialogContent:"<h2>Что-то пошло не так.<br>Побробуйте еще раз позже...</h2>"},showErrorMessage=function(){new Dialog(errorOptions).createDialog(),setTimeout(function(){document.querySelector(".error-message")})},removeErrorMessage=function(){document.querySelector(".error-message").remove()},startButton=document.querySelector("#start_button");if(startButton){var tmpl=document.querySelector("#tmpl"),tmplContent=tmpl.content.cloneNode(!0);startButton.onclick=function(){main.remove(),document.body.append(tmplContent),$("html, body").animate({scrollTop:0},"slow"),burger.style.zIndex="-1",privacyPolicyButton.style.zIndex="-1",quizContainer=document.querySelector("#quiz_container");function o(){i[d].style.opacity="0",i[d].style.zIndex="1",i[++d].style.opacity="1",i[d].style.zIndex="2"}var i=document.querySelectorAll(".quiz-page"),t=(document.querySelector("#form"),document.querySelectorAll(".check-box")),r=document.querySelectorAll(".checked"),c=document.querySelector("#get_options_button"),a=document.querySelectorAll(".next-button"),l=document.querySelectorAll(".input--quiz"),s=document.querySelector("#quiz"),e=(document.querySelector("#name"),document.querySelector("#phone"),document.querySelector("#submit_button"));480<window.innerWidth?quizContainer.style.top=window.innerHeight/2-i[0].offsetHeight/2+"px":quizContainer.style.top="15vw";var u,m,d=0,p=new Map,f=[];i[d].style.opacity="1",i[d].style.zIndex="2",quizContainer.onclick=function(e){u=e.target.closest(".quiz-page").children[0].textContent,d<i.length-1&&("IMG"===e.target.tagName&&"check-box"!==e.target.className&&"img"!==e.target.className?(m=e.target.alt,p.set(u,m),o(),$("html, body").animate({scrollTop:0},"slow")):"INPUT"===e.target.tagName&&"radio"===e.target.type?(m=e.target.name,p.set(u,m),o(),$("html, body").animate({scrollTop:0},"slow")):"img"===e.target.className&&(i[d].style.opacity="0",i[d].style.zIndex="1",i[d+=2].style.opacity="1",i[d].style.zIndex="2",$("html, body").animate({scrollTop:0},"slow")))};function n(o){var e=t[o],a=!1;e.onclick=function(e){var t=a?"none":"block";r[o].style.display=t,a=!a,u=e.target.closest(".quiz-page").children[0].textContent,m=e.target.alt,a?f.push(m):f.pop();var n=document.querySelector(".before");n.classList.add("animated"),setTimeout(function(){n.classList.remove("animated")},1100),c.onclick=function(){return a&&(p.set(u,f),i[d].style.opacity="0",i[d].style.zIndex="1",i[d+=5].style.opacity="1",i[d].style.zIndex="2",$("html, body").animate({scrollTop:0},"slow")),!1}}}for(var h=0;h<t.length;h++)n(h);function y(t){var e=a[t],n=/^\d+$/;e.onclick=function(e){return u=e.target.closest(".quiz-page").children[0].textContent,m=l[t-1].value,n.test(l[t-1].value)&&(p.set(u,m),o(),$("html, body").animate({scrollTop:0},"slow")),!1}}for(var v=1;v<a.length;v++)y(v);e.onclick=function(){var e="",t=!0,n=!1,o=void 0;try{for(var a,i=p[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var r=a.value;e+="Вопрос: ".concat(r[0],"\nОтвет: ").concat(r[1],"; \n")}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}s.value=e,burger.style.zIndex="1",privacyPolicyButton.style.zIndex="1"},$("#phone").mask("8(999) 999 99 99"),$("#form").submit(function(){return quizContainer.remove(),header.after(main),$.ajax({type:"POST",url:"https://svotok.ru/mail.php",data:$(this).serialize()}).done(function(){console.log("Данные отправлены на эл. почту"),setTimeout(function(){main.remove(),showSuccessMessage()},1e3),setTimeout(function(){removeSuccessMessage(),header.after(main),location.reload()},5e3)}).fail(function(){console.log("Не удалось отправить данные на почту"),setTimeout(function(){main.remove(),showErrorMessage()},1e3),setTimeout(function(){removeErrorMessage(),header.after(main),location.reload()},3e3)}),!1}),$('input[type="radio"]').on("click",function(){$('input[type="radio"]').removeAttr("checked"),$(this).prop("checked",!0)})}}