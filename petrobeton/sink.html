<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Раковина по проекту</title>
    <link rel="stylesheet" href="./assets/css/swiper.css">
    <!--<link rel="stylesheet" href="./assets/css/jquery.fancybox.min.css">-->
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="./assets/js/swiper.js" defer></script>
    <!--<script src="./assets/js/vendor.js" defer></script>-->
    <!--<script src="./assets/js/jquery.fancybox.min.js"></script>-->
    <script src="./assets/js/main.js" defer></script>
    <script src="./assets/js/test.js" defer></script>
</head>
<body>
    <section class="project-sink">
        <div class="container">
            <div class="project-sink__body">
                <div class="project-sink__text">
                    <h1>Раковина по проекту</h1>
                    <p>Мы готовы изготовить для вас раковину из бетона любой формы, цвета, под ваши размеры и по вашему индивидуальному проекту. Любое нестандартное решение мы готовы воплотить в жизнь.</p>
                </div>
                <div class="project-sink__form">
                    <div role="form" class="wpcf7" id="wpcf7-f464-o1" lang="ru-RU" dir="ltr">
                        <div class="screen-reader-response" role="alert" aria-live="polite"></div>
                        <form action="/petrobeton/#wpcf7-f464-o1" method="post" class="wpcf7-form init form" novalidate="novalidate">
                            <div style="display: none;">
                                    <input type="hidden" name="_wpcf7" value="464" />
                                    <input type="hidden" name="_wpcf7_version" value="5.2.2" />
                                    <input type="hidden" name="_wpcf7_locale" value="ru_RU" />
                                    <input type="hidden" name="_wpcf7_unit_tag" value="wpcf7-f464-o1" />
                                    <input type="hidden" name="_wpcf7_container_post" value="0" />
                                    <input type="hidden" name="_wpcf7_posted_data_hash" value="" />
                                </div>
                                <p>
                                    <span class="wpcf7-form-control-wrap user-phone">
                                        <input type="tel" name="user-phone" value="" size="40" class="wpcf7-form-control wpcf7-text wpcf7-tel wpcf7-validates-as-required wpcf7-validates-as-tel" aria-required="true" aria-invalid="false" placeholder="+7 999 999 99 99" />
                                    </span>
                                </p>
                                <p><button class="button button--dark" type="submit">заказать в один клик</button></p>
                                <input type='hidden' id='ct_checkjs_cf7_b534ba68236ba543ae44b22bd110a1d6' name='ct_checkjs_cf7' value='0' /><div class="wpcf7-response-output" role="alert" aria-hidden="true"></div>
                            </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="product-maps">
        <div class="container">
            <div class="product-maps__maps">
                <div class="product-maps__map product-maps__map--color">
                    <h2>карта Цветов</h2>
                    <p>Вы можете выбрать любой из 15 типовых цветов, также мы можем сделать любой другой цвет под ваш проект.</p>
                    <div class="product-maps__row">
                        <div class="product-maps__options product-maps__options--color">
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/1.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/2.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/3.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/4.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/5.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/6.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/7.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/8.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/9.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/10.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/11.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/12.jpg" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/13.png" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/14.png" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/color/sq/15.png" alt=""></div>
                        </div>
                        <div class="product-maps__product">
                            <div class="product-maps__image">
                                <img src="./assets/images/sink/color/01.png" alt="">
                            </div>
                            <p>Цвет: 01</p>
                        </div>
                    </div>
                </div>
                <div class="product-maps__map product-maps__map--texture">
                    <h2>карта Текстур</h2>
                    <p>Вы можете выбрать любую текстуру для вашего изделия.</p>
                    <div class="product-maps__row">
                        <div class="product-maps__options product-maps__options--texture">
                            <div class="product-maps__option"><img src="./assets/images/sink/texture/sq/nabr.png" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/texture/sq/s_porami.png" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/texture/sq/bez_por.png" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/texture/sq/ruchnaya.png" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/texture/sq/sol_perec.png" alt=""></div>
                            <div class="product-maps__option"><img src="./assets/images/sink/texture/sq/terracco.png" alt=""></div>
                        </div>
                        <div class="product-maps__product">
                            <div class="product-maps__image">
                                <img src="./assets/images/sink/texture/bez_por.png" alt="">
                            </div>
                            <p>Текстура: набрызг</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="product-variants">
        <div class="container">
            <h2>Варианты типов раковин и чаш</h2>
            <p class="product-variants__subtitle">Мы изготовим любой тип раковины и чаши индивидуально под ваш проект</p>
            <h3>Типы раковин</h3>
            <div class="product-variants__items">
                <div class="product-variants__item">
                    <img src="./assets/images/sink/sinks/sink-1.jpg" alt="">
                    <p>Интегрированная</p>
                </div>
                <div class="product-variants__item">
                    <img src="./assets/images/sink/sinks/sink-2.jpg" alt="">
                    <p>Накладная</p>
                </div>
                <div class="product-variants__item">
                    <img src="./assets/images/sink/sinks/sink-3.jpg" alt="">
                    <p>Отдельностоящая</p>
                </div>
            </div>

            <h3>Типы чаш</h3>
            <div class="product-variants__items">
                <div class="product-variants__item">
                    <img src="./assets/images/sink/bowls/bowl-1.jpg" alt="">
                    <p>Прямые углы/радиусы</p>
                </div>
                <div class="product-variants__item">
                    <img src="./assets/images/sink/bowls/bowl-2.jpg" alt="">
                    <p>Щелевая/классический выпуск</p>
                </div>
                <div class="product-variants__item">
                    <img src="./assets/images/sink/bowls/bowl-3.jpg" alt="">
                    <p>Прямоугольный/круглый/овальный </p>
                </div>
            </div>
        </div>
    </section>
    <section class="nontypical-products">
        <div class="container">
            <h2>Цены на нетиповые раковины</h2>
            <div class="nontypical-products__products">
                <div class="swiper-wrapper">
                    <div class="nontypical-products__product swiper-slide">
                        <h4>Типовая раковина интегрированная</h4>
                        <span>«Ладья»</span>
                        <div class="nontypical-products__image">
                            <img src="./assets/images/sink/nontypical/sink-1.jpg" alt="">
                        </div>
                        <p class="nontypical-products__price">от 35 000 ₽</p>
                    </div>
                    <div class="nontypical-products__product swiper-slide">
                        <h4>Измененный наружный размер</h4>
                        <span>«Ладья»</span>
                        <div class="nontypical-products__image">
                            <img src="./assets/images/sink/nontypical/sink-2.jpg" alt="">
                        </div>
                        <p class="nontypical-products__price">от 35 000 ₽</p>
                    </div>
                    <div class="nontypical-products__product swiper-slide">
                        <h4>Интегрированная по вашему дизайну, форме чаши</h4>
                        <span></span>
                        <div class="nontypical-products__image">
                            <img src="./assets/images/sink/nontypical/sink-3.png" alt="">
                        </div>
                        <p class="nontypical-products__price">от 55 000 ₽</p>
                    </div>
                    <div class="nontypical-products__product swiper-slide">
                        <h4>Отдельностоящая по вашему дизайну, форме</h4>
                        <span></span>
                        <div class="nontypical-products__image">
                            <img src="./assets/images/sink/nontypical/sink-4.jpg" alt="">
                        </div>
                        <p class="nontypical-products__price">от 80 000 ₽</p>
                    </div>
                    <div class="nontypical-products__product swiper-slide">
                        <h4>Накладная по вашему дизайну, форме</h4>
                        <span></span>
                        <div class="nontypical-products__image">
                            <img src="./assets/images/sink/nontypical/sink-5.jpg" alt="">
                        </div>
                        <p class="nontypical-products__price">от 55 000 ₽</p>
                    </div>
                </div>
            </div>
            <div class="swiper-nav">
                <button class="swiper-prev"></button>
                <button class="swiper-next"></button>
            </div>
        </div>
    </section>
    <div class="sink-form">
        <div class="container">
            <div role="form" class="wpcf7" id="wpcf7-f464-o1" lang="ru-RU" dir="ltr">
                <div class="screen-reader-response" role="alert" aria-live="polite"></div>
                    <form action="/petrobeton/#wpcf7-f464-o1" method="post" class="wpcf7-form init form" novalidate="novalidate">
                        <div style="display: none;">
                            <input type="hidden" name="_wpcf7" value="464" />
                            <input type="hidden" name="_wpcf7_version" value="5.2.2" />
                            <input type="hidden" name="_wpcf7_locale" value="ru_RU" />
                            <input type="hidden" name="_wpcf7_unit_tag" value="wpcf7-f464-o1" />
                            <input type="hidden" name="_wpcf7_container_post" value="0" />
                            <input type="hidden" name="_wpcf7_posted_data_hash" value="" />
                        </div>
                        <p>
                            <span class="wpcf7-form-control-wrap user-phone">
                                <input type="tel" name="user-phone" value="" size="40" class="wpcf7-form-control wpcf7-text wpcf7-tel wpcf7-validates-as-required wpcf7-validates-as-tel" aria-required="true" aria-invalid="false" placeholder="+7 999 999 99 99" />
                            </span>
                        </p>
                        <p><button class="button button--dark" type="submit">заказать в один клик</button></p>
                        <input type='hidden' id='ct_checkjs_cf7_b534ba68236ba543ae44b22bd110a1d6' name='ct_checkjs_cf7' value='0' /><div class="wpcf7-response-output" role="alert" aria-hidden="true"></div>
                    </form>
            </div>
        </div>
    </div>
    <section class="records">
        <div class="container">
            <h2>Наши рекорды</h2>
        </div>
        <div class="records__items">
            <div class="swiper-wrapper gallery">
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-1.jpg" alt=""></a>
                    <p>Самая длинная раковина <span>4200 мм</span></p>
                </div>
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-2.jpg" alt=""></a>
                    <p>Самая большая <span>3000х2000х150мм</span></p>
                </div>
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-1.jpg" alt=""></a>
                    <p>Самый смелый проект <span>«с разломом»</span></p>
                </div>
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-2.jpg" alt=""></a>
                    <p>Самый необычный дизайн <span>«раковина-лицо»</span></p>
                </div>
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-1.jpg" alt=""></a>
                    <p>Самая длинная раковина <span>4200 мм</span></p>
                </div>
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-2.jpg" alt=""></a>
                    <p>Самая большая <span>3000х2000х150мм</span></p>
                </div>
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-1.jpg" alt=""></a>
                    <p>Самый смелый проект <span>«с разломом»</span></p>
                </div>
                <div class="records__item swiper-slide">
                    <a href="./assets/images/sink/gallery/img-1.jpg" class="records__link"><img src="./assets/images/sink/gallery/img-2.jpg" alt=""></a>
                    <p>Самый необычный дизайн <span>«раковина-лицо»</span></p>
                </div>
            </div>
        </div>
    </section>
    <div style="height: 300px;"></div>
    <script>
        const colorOptions = document.querySelectorAll('.product-maps__options--color .product-maps__option');
        const textureOptions = document.querySelectorAll('.product-maps__options--texture .product-maps__option');
        const productMapsImages = document.querySelectorAll('.product-maps__image img');
        const productMapText = document.querySelectorAll('.product-maps__product p');
        let activeColorOption;
        let activeTextureOption;

        const colors = {
            number: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15'],
            imageUrl: [
                '/assets/images/sink/color/01.png',
                '/assets/images/sink/color/02.png',
                '/assets/images/sink/color/03.png',
                '/assets/images/sink/color/04.png',
                '/assets/images/sink/color/05.png',
                '/assets/images/sink/color/06.png',
                '/assets/images/sink/color/07.png',
                '/assets/images/sink/color/08.png',
                '/assets/images/sink/color/09.png',
                '/assets/images/sink/color/10.png',
                '/assets/images/sink/color/11.png',
                '/assets/images/sink/color/12.png',
                '/assets/images/sink/color/13.png',
                '/assets/images/sink/color/14.png',
                '/assets/images/sink/color/15.png',
            ]
        };

        const textures = {
            name: ['набрызг', 'заливная с порами', 'заливная без пор', 'ручная укладка', 'соль/перец', 'террацио'],
            imageUrl: [
                '/assets/images/sink/texture/nabr.png',
                '/assets/images/sink/texture/s_porami.png',
                '/assets/images/sink/texture/bez_por.png',
                '/assets/images/sink/texture/rush.png',
                '/assets/images/sink/texture/sol_.png',
                '/assets/images/sink/texture/terracco.png',
            ]
        };

        for(let i = 0; i < colorOptions.length; i++) {
            let colorOption = colorOptions[i];

            colorOption.addEventListener('click', function() {
                if(activeColorOption !== undefined) activeColorOption.classList.remove('active');
                this.classList.add('active');
                productMapsImages[0].src = colors.imageUrl[i];
                productMapText[0].innerText = 'Цвет: ' + colors.number[i];
                activeColorOption = this;
            });
        }

        for(let i = 0; i < textureOptions.length; i++) {
            let textureOption = textureOptions[i];

            textureOption.addEventListener('click', function() {
                if(activeTextureOption !== undefined) activeTextureOption.classList.remove('active');
                this.classList.add('active');
                productMapsImages[1].src = textures.imageUrl[i];
                productMapText[1].innerText = 'Текстура: ' + textures.name[i];
                activeTextureOption = this;
            });
        }

        //Bitrix
        const productTitle = document.querySelector('.project-sink h1').innerText;
        //const productPrice = document.querySelector('.product-block p.price').innerText;
        const productContactForms = document.querySelectorAll('div.wpcf7 form');
        const productContactFormPhone = document.querySelector('div.wpcf7 form input[type="tel"]');

        const hiddenProductPrice = document.createElement('input');
        hiddenProductPrice.type = 'hidden';
        hiddenProductPrice.name = 'DATA[PRODUCT_PRICE]';

        const hiddenProductName = document.createElement('input');
        hiddenProductName.type = 'hidden';
        hiddenProductName.name = 'DATA[PRODUCT_NAME]';

        const hiddenPhone = document.createElement('input');
        hiddenPhone.type = 'hidden';
        hiddenPhone.name = 'DATA[PHONE_MOBILE]';

        productContactForms.forEach((form) => {
            form.append(hiddenProductName);
            form.append(hiddenPhone);
        })
        
        //productContactForm.append(hiddenProductName);
        //productContactForm.append(hiddenProductPrice);
        //productContactForm.append(hiddenPhone);

        productContactForms.forEach((form) => {
            form.addEventListener('submit', () => {
                hiddenProductName.value = productTitle;
                hiddenPhone.value = productContactFormPhone.value.trim();
            })
        })

        /*productContactForm.addEventListener('submit', () => {
            hiddenProductName.value = productTitle;
            hiddenProductPrice.value = productPrice;
            hiddenPhone.value = productContactFormPhone.value.trim();
        });*/

        $('div.wpcf7 form').submit(function() {
            $.ajax({
                type: "POST",
                url: "/petrobeton/wp-content/themes/petrobeton/includes/bitrix.php",
                data: $(this).serialize()
            }).done(function() {
                console.log('Отправлено в Битрикс');
            }).fail(function() {
                console.log('Не удалось отправить в Битрикс');
            });
            return false;
        });
    </script>
</body>
</html>